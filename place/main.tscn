[gd_scene load_steps=102 format=3 uid="uid://dkr0hckfg0gr2"]

[ext_resource type="PackedScene" uid="uid://fjmjaf0ynqn4" path="res://scene/character/player.tscn" id="1_kcmfw"]
[ext_resource type="Texture2D" uid="uid://cror62i6o4ltc" path="res://asset/world/tile.png" id="1_o2ws4"]
[ext_resource type="PackedScene" uid="uid://df0j5wnvq4v4f" path="res://scene/character/actor.tscn" id="2_m2nem"]
[ext_resource type="Script" path="res://scene/vtilemap/vtilemap.gd" id="2_vfp3g"]
[ext_resource type="Script" path="res://scene/vtilemap/vtilemap_cell.gd" id="3_msvx5"]
[ext_resource type="PackedScene" uid="uid://c0uw3x77ekrta" path="res://scene/battle/battle.tscn" id="5_pnqya"]
[ext_resource type="Resource" uid="uid://7uoeaxnis4w0" path="res://resource/actor_type/termite_worker.tres" id="5_s8fkc"]
[ext_resource type="Script" path="res://scene/trigger/gate.gd" id="7_t5tdt"]
[ext_resource type="Script" path="res://scene/trigger/pickup.gd" id="8_ltew1"]
[ext_resource type="Script" path="res://resource/item/item.gd" id="9_3r5mu"]
[ext_resource type="Resource" uid="uid://cdpj5hurujnim" path="res://resource/item/item.tres" id="10_5hhta"]
[ext_resource type="PackedScene" uid="uid://c0ekv2edifp0i" path="res://scene/collision.tscn" id="12_dicla"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_bfyk0"]
texture = ExtResource("1_o2ws4")
texture_region_size = Vector2i(24, 21)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_0gm1q"]
sources/0 = SubResource("TileSetAtlasSource_bfyk0")

[sub_resource type="Resource" id="Resource_y8hsh"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, -7)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_i2pgs"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -7)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_my8yj"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -7)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_5ktyg"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -7)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_jji5s"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, -7)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_64ixg"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_vp6om"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_4a17r"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_hg63k"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_3o3mc"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_4xly0"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_wyyu1"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_g44ag"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, -6)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_boywi"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_e4e6h"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_elrya"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_hv3se"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_nxvym"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_qoy1x"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_3jldt"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ky3mi"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_cm1pq"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, -5)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_567h3"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_qgt3q"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_l5bpi"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_tmbfo"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ixi57"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_jib5a"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_tjqtl"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_xls2b"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, -4)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_1j6ow"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ma4he"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_v7aa6"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_7edqm"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_bbbyn"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_8yygv"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_1qstg"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_tn6qh"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_khk45"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_jww5y"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_q5e7r"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_45e6b"]
script = ExtResource("3_msvx5")
coords = Vector2i(-2, -2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_c87o0"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_lsntq"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_y87g8"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_jcnwr"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_qix7p"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_1nn83"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_513rg"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_67vt2"]
script = ExtResource("3_msvx5")
coords = Vector2i(-2, -1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_2heky"]
script = ExtResource("3_msvx5")
coords = Vector2i(11, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_fmtbf"]
script = ExtResource("3_msvx5")
coords = Vector2i(10, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_pulbq"]
script = ExtResource("3_msvx5")
coords = Vector2i(9, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_icbhl"]
script = ExtResource("3_msvx5")
coords = Vector2i(8, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_5h3ih"]
script = ExtResource("3_msvx5")
coords = Vector2i(7, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_j0iyi"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_8gmyq"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_q5xka"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_lcrf8"]
script = ExtResource("3_msvx5")
coords = Vector2i(3, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ipiv4"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_2m2ay"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_vob0u"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_6850k"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_lpx4o"]
script = ExtResource("3_msvx5")
coords = Vector2i(-2, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_na78n"]
script = ExtResource("3_msvx5")
coords = Vector2i(-3, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_pnl3f"]
script = ExtResource("3_msvx5")
coords = Vector2i(-4, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ysls1"]
script = ExtResource("3_msvx5")
coords = Vector2i(-5, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_fx6o4"]
script = ExtResource("3_msvx5")
coords = Vector2i(-6, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_u8s60"]
script = ExtResource("3_msvx5")
coords = Vector2i(-7, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_ggvp1"]
script = ExtResource("3_msvx5")
coords = Vector2i(-8, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_8qa03"]
script = ExtResource("3_msvx5")
coords = Vector2i(-9, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_5h78o"]
script = ExtResource("3_msvx5")
coords = Vector2i(-10, 0)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_st6yg"]
script = ExtResource("3_msvx5")
coords = Vector2i(6, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_pnpwt"]
script = ExtResource("3_msvx5")
coords = Vector2i(5, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_mj7ym"]
script = ExtResource("3_msvx5")
coords = Vector2i(4, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_xtwwd"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_gkgv5"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_e8wlt"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_407w1"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_amcse"]
script = ExtResource("3_msvx5")
coords = Vector2i(-2, 1)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_boc3x"]
script = ExtResource("3_msvx5")
coords = Vector2i(2, 2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_gmkgp"]
script = ExtResource("3_msvx5")
coords = Vector2i(1, 2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_i7amb"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, 2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_rvmt4"]
script = ExtResource("3_msvx5")
coords = Vector2i(-1, 2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_nbn7g"]
script = ExtResource("3_msvx5")
coords = Vector2i(-2, 2)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="Resource" id="Resource_obeb0"]
script = ExtResource("3_msvx5")
coords = Vector2i(0, 3)
source_id = 0
tile_id = Vector2i(0, 0)

[sub_resource type="CircleShape2D" id="CircleShape2D_t3b55"]
radius = 4.0

[node name="Main" type="Node2D"]
y_sort_enabled = true

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="Color" type="ColorRect" parent="Background"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0.105882, 0.105882, 0.105882, 1)
metadata/_edit_lock_ = true

[node name="Button" type="Button" parent="Background"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -69.0
offset_bottom = 30.0
grow_horizontal = 0
text = "start battle"

[node name="Tiles" type="Node2D" parent="."]
z_index = -1
script = ExtResource("2_vfp3g")
tile_set = SubResource("TileSet_0gm1q")
generate_navigation = true
cells = Array[ExtResource("3_msvx5")]([SubResource("Resource_y8hsh"), SubResource("Resource_i2pgs"), SubResource("Resource_my8yj"), SubResource("Resource_5ktyg"), SubResource("Resource_jji5s"), SubResource("Resource_64ixg"), SubResource("Resource_vp6om"), SubResource("Resource_4a17r"), SubResource("Resource_hg63k"), SubResource("Resource_3o3mc"), SubResource("Resource_4xly0"), SubResource("Resource_wyyu1"), SubResource("Resource_g44ag"), SubResource("Resource_boywi"), SubResource("Resource_e4e6h"), SubResource("Resource_elrya"), SubResource("Resource_hv3se"), SubResource("Resource_nxvym"), SubResource("Resource_qoy1x"), SubResource("Resource_3jldt"), SubResource("Resource_ky3mi"), SubResource("Resource_cm1pq"), SubResource("Resource_567h3"), SubResource("Resource_qgt3q"), SubResource("Resource_l5bpi"), SubResource("Resource_tmbfo"), SubResource("Resource_ixi57"), SubResource("Resource_jib5a"), SubResource("Resource_tjqtl"), SubResource("Resource_xls2b"), SubResource("Resource_1j6ow"), SubResource("Resource_ma4he"), SubResource("Resource_v7aa6"), SubResource("Resource_7edqm"), SubResource("Resource_bbbyn"), SubResource("Resource_8yygv"), SubResource("Resource_1qstg"), SubResource("Resource_tn6qh"), SubResource("Resource_khk45"), SubResource("Resource_jww5y"), SubResource("Resource_q5e7r"), SubResource("Resource_45e6b"), SubResource("Resource_c87o0"), SubResource("Resource_lsntq"), SubResource("Resource_y87g8"), SubResource("Resource_jcnwr"), SubResource("Resource_qix7p"), SubResource("Resource_1nn83"), SubResource("Resource_513rg"), SubResource("Resource_67vt2"), SubResource("Resource_2heky"), SubResource("Resource_fmtbf"), SubResource("Resource_pulbq"), SubResource("Resource_icbhl"), SubResource("Resource_5h3ih"), SubResource("Resource_j0iyi"), SubResource("Resource_8gmyq"), SubResource("Resource_q5xka"), SubResource("Resource_lcrf8"), SubResource("Resource_ipiv4"), SubResource("Resource_2m2ay"), SubResource("Resource_vob0u"), SubResource("Resource_6850k"), SubResource("Resource_lpx4o"), SubResource("Resource_na78n"), SubResource("Resource_pnl3f"), SubResource("Resource_ysls1"), SubResource("Resource_fx6o4"), SubResource("Resource_u8s60"), SubResource("Resource_ggvp1"), SubResource("Resource_8qa03"), SubResource("Resource_5h78o"), SubResource("Resource_st6yg"), SubResource("Resource_pnpwt"), SubResource("Resource_mj7ym"), SubResource("Resource_xtwwd"), SubResource("Resource_gkgv5"), SubResource("Resource_e8wlt"), SubResource("Resource_407w1"), SubResource("Resource_amcse"), SubResource("Resource_boc3x"), SubResource("Resource_gmkgp"), SubResource("Resource_i7amb"), SubResource("Resource_rvmt4"), SubResource("Resource_nbn7g"), SubResource("Resource_obeb0")])

[node name="Player" parent="." instance=ExtResource("1_kcmfw")]

[node name="Battle" parent="." node_paths=PackedStringArray("actors", "tilemap") instance=ExtResource("5_pnqya")]
position = Vector2(-17, -7)
actors = [NodePath("../Termite")]
tilemap = NodePath("../Tiles")

[node name="Termite" parent="." instance=ExtResource("2_m2nem")]
position = Vector2(-20, -85)
data = ExtResource("5_s8fkc")

[node name="FromTest" type="Area2D" parent="."]
position = Vector2(32, 16)
script = ExtResource("7_t5tdt")
scene = "test"
mode = 1

[node name="Shape" type="CollisionShape2D" parent="FromTest"]
position = Vector2(10, 5)
shape = SubResource("CircleShape2D_t3b55")

[node name="Pickup" type="Area2D" parent="."]
position = Vector2(-70, -35)
script = ExtResource("8_ltew1")
items = Array[ExtResource("9_3r5mu")]([ExtResource("10_5hhta"), ExtResource("10_5hhta"), ExtResource("10_5hhta")])
once = true

[node name="Collision" parent="Pickup" instance=ExtResource("12_dicla")]

[connection signal="pressed" from="Background/Button" to="Background/Button" method="queue_free"]
[connection signal="pressed" from="Background/Button" to="Battle" method="start"]
